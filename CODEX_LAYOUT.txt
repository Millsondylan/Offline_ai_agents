╔═══════════════════════════════════════════════════════════════════════════════════════╗
║                        CODEX DASHBOARD - LAYOUT VISUALIZATION                         ║
╚═══════════════════════════════════════════════════════════════════════════════════════╝

┌───────────────────────────────────────────────────────────────────────────────────────┐
│  MODEL: ollama:deepseek  │  SESSION: 1696234567  │  CYCLE: 42  │  STATUS: RUNNING ●  │
│  TIME: 01:23:45                                                                       │
└───────────────────────────────────────────────────────────────────────────────────────┘
┌─────────┬────────────────────────────────────────────────────────────┬────────────────┐
│         │                                                            │                │
│   AI    │  ┌──────────────────────────────────────────────────────┐ │   Progress     │
│  AGENT  │  │                    TASKS & GOALS                     │ │                │
│         │  ├──────────────────────────────────────────────────────┤ │  Cycle: 42     │
│  VIEWS  │  │  [Enter task description...]          [Add Task]     │ │  Progress: 67% │
│ ─────── │  │  [Activate] [Delete] [Refresh]                       │ │                │
│         │  ├────┬──────────┬──────────────────────────┬───────────┤ │  Task Stats    │
│ Tasks   │  │ ID │  Status  │      Description         │  Created  │ │ ────────────   │
│         │  ├────┼──────────┼──────────────────────────┼───────────┤ │  Pending: 2    │
│ Thinking│  │ 1  │ PENDING  │ Implement auth module    │ 10:23     │ │  Active: 1     │
│         │  │ 2  │ IN PROG  │ Fix login bug           │ 10:45     │ │  Done: 8       │
│ Logs    │  │ 3  │ COMPLETE │ Add tests               │ 11:02     │ │                │
│         │  │ 4  │ PENDING  │ Update documentation    │ 11:30     │ │  System        │
│ Code    │  └────┴──────────┴──────────────────────────┴───────────┘ │ ────────────   │
│         │                                                            │  Errors: 0     │
│ CONTROL │  ─────────────── OR ─────────────────                    │  Warnings: 2   │
│ ─────── │                                                            │  Mode: Auto    │
│         │  ┌──────────────────────────────────────────────────────┐ │                │
│ Start   │  │               AI THINKING STREAM                     │ │  Current Task  │
│ Pause   │  ├──────────────────────────────────────────────────────┤ │ ────────────   │
│ Stop    │  │ [10:23:15] C042 THINKING [planning] Analyzing task   │ │  "Implement    │
│ Verify  │  │ [10:23:16] C042 ACTION START read_file - auth.py     │ │  authentication│
│         │  │ [10:23:17] C042 ACTION DONE read_file - 234 lines    │ │  module with   │
│ SYSTEM  │  │ [10:23:18] C042 THINKING [analysis] Found security..│ │  OAuth2 and    │
│ ─────── │  │ [10:23:19] C042 DECISION update_code - Adding auth  │ │  JWT tokens"   │
│         │  │ [10:23:20] C042 CODE [python] Generated 89 lines    │ │                │
│ Model   │  │ [10:23:21] C042 VERIFY syntax_check -> passed        │ │                │
│ Exit    │  │ [10:23:22] C042 MODEL deepseek-coder (completion)   │ │                │
│         │  │ [10:23:23] C042 CYCLE END Cycle 42                   │ │                │
│         │  │ [10:23:24] C043 CYCLE START Cycle 43                 │ │                │
│         │  │ Auto-scroll: ON ▼                                    │ │                │
│         │  └──────────────────────────────────────────────────────┘ │                │
│         │                                                            │                │
│         │  ─────────────── OR ─────────────────                    │                │
│         │                                                            │                │
│         │  ┌──────────────────────────────────────────────────────┐ │                │
│         │  │                 EXECUTION LOGS                       │ │                │
│         │  ├──────────────────────────────────────────────────────┤ │                │
│         │  │ Filter: [All Levels ▼] [Clear] [Auto-scroll: ON]    │ │                │
│         │  ├──────────────────────────────────────────────────────┤ │                │
│         │  │ [10:23:15] C042 INFO     Agent started cycle 42      │ │                │
│         │  │ [10:23:16] C042 INFO     Reading file: auth.py       │ │                │
│         │  │ [10:23:17] C042 WARN     Large file detected (234KB) │ │                │
│         │  │ [10:23:18] C042 INFO     Analysis complete           │ │                │
│         │  │ [10:23:19] C042 INFO     Generating code patch       │ │                │
│         │  │ [10:23:20] C042 INFO     Patch generated: 89 lines   │ │                │
│         │  │ [10:23:21] C042 INFO     Syntax check passed         │ │                │
│         │  │ [10:23:22] C042 INFO     Model API call: 1847 tokens │ │                │
│         │  │ [10:23:23] C042 INFO     Cycle 42 completed          │ │                │
│         │  │ [10:23:24] C043 INFO     Starting cycle 43           │ │                │
│         │  │ Auto-scroll: ON ▼                                    │ │                │
│         │  └──────────────────────────────────────────────────────┘ │                │
│         │                                                            │                │
│         │  ─────────────── OR ─────────────────                    │                │
│         │                                                            │                │
│         │  ┌──────────────────────────────────────────────────────┐ │                │
│         │  │                   CODE VIEWER                        │ │                │
│         │  ├──────────────────────────────────────────────────────┤ │                │
│         │  │ [Refresh] [Show Agent Files] [Show All Files]        │ │                │
│         │  ├───────────────┬──────────────────────────────────────┤ │                │
│         │  │ 📁 agent/     │  File: agent/auth.py                 │ │                │
│         │  │   📄 auth.py  │  ─────────────────────────────────── │ │                │
│         │  │   📄 run.py   │    1  import hashlib                 │ │                │
│         │  │   📁 state/   │    2  import secrets                 │ │                │
│         │  │     thinking  │    3  from typing import Optional    │ │                │
│         │  │   📁 local/   │    4                                 │ │                │
│         │  │     task.txt  │    5  class Authenticator:          │ │                │
│         │  │ 📁 tests/     │    6      """OAuth2 authentication."""│ │                │
│         │  │   test_auth   │    7                                 │ │                │
│         │  │ 📄 README.md  │    8      def __init__(self):       │ │                │
│         │  │               │    9          self.secret = secrets  │ │                │
│         │  │               │   10          .token_hex(32)         │ │                │
│         │  │               │                                      │ │                │
│         │  │               │  Syntax: Python | Lines: 234         │ │                │
│         │  └───────────────┴──────────────────────────────────────┘ │                │
│         │                                                            │                │
└─────────┴────────────────────────────────────────────────────────────┴────────────────┘
│ q:Quit │ 1:Tasks │ 2:Thinking │ 3:Logs │ 4:Code │ s:Start │ p:Pause │ x:Stop │ r:Verify│
└───────────────────────────────────────────────────────────────────────────────────────┘


╔═══════════════════════════════════════════════════════════════════════════════════════╗
║                             COLOR SCHEME (CODEX THEME)                                ║
╚═══════════════════════════════════════════════════════════════════════════════════════╝

  Background:   #0A0E27  ██████  Deep blue-black (main background)
  Surface:      #0D1117  ██████  GitHub dark (panels, content areas)
  Panel:        #161B22  ██████  Panel background (sidebars)
  Boost:        #1F2937  ██████  Elevated elements (headers)
  Primary:      #30363D  ──────  Borders and dividers

  Accent:       #58A6FF  ██████  Blue highlights (links, selected items)
  Success:      #3FB950  ██████  Green (completed, passed, running)
  Warning:      #D29922  ██████  Yellow (warnings, pending)
  Error:        #F85149  ██████  Red (errors, failed, stopped)

  Text:         #C9D1D9  ██████  Main text color
  Text Muted:   #8B949E  ██████  Dimmed text (labels, timestamps)


╔═══════════════════════════════════════════════════════════════════════════════════════╗
║                              RESPONSIVE BEHAVIOR                                      ║
╚═══════════════════════════════════════════════════════════════════════════════════════╝

  Terminal Width:      Minimum: 100 chars       Recommended: 120+ chars
  Terminal Height:     Minimum: 24 lines        Recommended: 30+ lines

  If too small:        Sidebars collapse, content adjusts, scrollbars appear
  If too large:        Content expands, more visible at once

  Resize anytime:      Layout adapts automatically, no restart needed


╔═══════════════════════════════════════════════════════════════════════════════════════╗
║                            KEYBOARD SHORTCUTS                                         ║
╚═══════════════════════════════════════════════════════════════════════════════════════╝

  Navigation:
    1           Show Tasks panel
    2           Show AI Thinking stream
    3           Show Logs
    4           Show Code viewer

  Agent Control:
    s           Start agent
    p           Pause agent
    x           Stop agent
    r           Run verification tests

  System:
    q           Quit application
    Ctrl+C      Emergency exit

  Within Panels:
    ↑↓          Navigate tables/lists
    ←→          Navigate tree/columns
    Enter       Activate/select item
    Tab         Move between elements
    Space       Toggle checkboxes


╔═══════════════════════════════════════════════════════════════════════════════════════╗
║                            PANEL DESCRIPTIONS                                         ║
╚═══════════════════════════════════════════════════════════════════════════════════════╝

  1. TASKS PANEL
     • Add new tasks with descriptions
     • View all tasks in sortable table
     • Activate tasks to run them
     • Delete completed or unwanted tasks
     • See status: Pending (yellow), In Progress (blue), Completed (green), Failed (red)

  2. THINKING STREAM
     • Live stream of AI reasoning events
     • Reads from agent/state/thinking.jsonl
     • 10 event types with color coding
     • Shows cycle number and timestamp
     • Auto-scrolls as new events arrive
     • Last 50 entries loaded on start

  3. LOGS PANEL
     • Real-time execution logs
     • Filter by level (ALL/INFO/WARN/ERROR)
     • Color-coded by severity
     • Toggle auto-scroll ON/OFF
     • Clear button to reset view
     • Shows cycle, timestamp, level, message

  4. CODE VIEWER
     • Browse project files in tree
     • Syntax highlighting for 30+ languages
     • Line numbers and indent guides
     • Quick filter for agent files
     • Binary file detection
     • Monokai theme


╔═══════════════════════════════════════════════════════════════════════════════════════╗
║                             LIVE METRICS SIDEBAR                                      ║
╚═══════════════════════════════════════════════════════════════════════════════════════╝

  PROGRESS CARD
    • Current cycle number
    • Completion percentage
    • Updates every 100ms

  TASK STATISTICS
    • Pending tasks (yellow)
    • In progress tasks (blue)
    • Completed tasks (green)
    • Real-time counts

  SYSTEM STATUS
    • Error count (red if >0)
    • Warning count (yellow if >0)
    • Agent mode (Auto/Manual/Fast)
    • Updates continuously

  CURRENT TASK
    • Shows active task description
    • Truncated to fit card
    • Updates when task changes
    • "No active task" when idle


╔═══════════════════════════════════════════════════════════════════════════════════════╗
║                              STATUS HEADER                                            ║
╚═══════════════════════════════════════════════════════════════════════════════════════╝

  MODEL          Provider and model name (e.g., ollama:deepseek-coder)
  SESSION        Unique session ID (timestamp)
  CYCLE          Current cycle number (increments each iteration)
  STATUS         IDLE (yellow) | RUNNING (green) | PAUSED (blue) | STOPPED (red) | ERROR (red blink)
  TIME           Elapsed time in HH:MM:SS format


╔═══════════════════════════════════════════════════════════════════════════════════════╗
║                            NAVIGATION SIDEBAR                                         ║
╚═══════════════════════════════════════════════════════════════════════════════════════╝

  VIEWS (Panel switching)
    • Tasks & Goals
    • AI Thinking
    • Logs
    • Code Viewer
    → Active panel highlighted in accent color

  CONTROLS (Agent operations)
    • Start Agent (green)
    • Pause Agent (blue)
    • Stop Agent (red)
    • Run Tests (default)

  SYSTEM (Application)
    • Model Config (settings)
    • Exit (quit application)


╔═══════════════════════════════════════════════════════════════════════════════════════╗
║                              EVENT TYPE COLORS                                        ║
╚═══════════════════════════════════════════════════════════════════════════════════════╝

  In the Thinking Stream, events are color-coded:

  CYCLE START        Cyan        🔄 Beginning of new cycle
  CYCLE END          Green       ✅ Cycle completed successfully
  THINKING           Yellow      🤔 Agent reasoning and planning
  ACTION (started)   Blue        ⚡ Action beginning
  ACTION (completed) Green       ✅ Action finished successfully
  ACTION (failed)    Red         ❌ Action encountered error
  DECISION           Magenta     🎯 Strategic decision made
  VERIFICATION       Cyan        🔍 Test or check performed
  MODEL              Blue        🤖 LLM API interaction
  CODE               Green       💻 Code generation/editing


╔═══════════════════════════════════════════════════════════════════════════════════════╗
║                              UPDATE CYCLE                                             ║
╚═══════════════════════════════════════════════════════════════════════════════════════╝

  Every 100ms (10 times per second):
    1. Query RealAgentManager for latest state
    2. Update status header (model, cycle, status, time)
    3. Update metrics sidebar (progress, tasks, system)
    4. Update active panel:
       • Tasks: Refresh table with current tasks
       • Thinking: Poll thinking.jsonl for new events
       • Logs: Append new log entries
       • Code: (no auto-update, user-driven)
    5. Render changes to screen
    6. Sleep 100ms, repeat

  File polling (thinking.jsonl):
    • Track last file position
    • Only read new content
    • No full re-reads
    • Efficient for large files


╔═══════════════════════════════════════════════════════════════════════════════════════╗
║                              QUICK TIPS                                               ║
╚═══════════════════════════════════════════════════════════════════════════════════════╝

  • Use number keys (1-4) for fast panel switching
  • Press 's' to start agent, 'x' to stop
  • Turn off auto-scroll to read history, turn back on for live mode
  • In code viewer, click "Show Agent Files" to focus on agent directory
  • Task descriptions can be multi-line - just keep typing
  • Color legend: Green=success, Yellow=warning/pending, Red=error/stopped, Blue=active
  • Footer shows all available keyboard shortcuts
  • Resize terminal anytime - layout adapts automatically
  • All data updates in real-time (100ms refresh)
  • Thinking stream shows last 50 entries on start, then streams new ones


╔═══════════════════════════════════════════════════════════════════════════════════════╗
║                              LAUNCH COMMAND                                           ║
╚═══════════════════════════════════════════════════════════════════════════════════════╝

  agent --codex

  That's it! Enjoy your Codex-style AI agent dashboard! 🚀
