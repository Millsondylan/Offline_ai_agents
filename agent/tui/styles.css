/* TUI Styles for Agent Dashboard */

/* Global styles */
Screen {
    background: $surface;
    layout: vertical;
}

/* Main layout container */
#layout-root {
    width: 100%;
    height: 100%;
    layout: vertical;
}

/* Top row: Control + Cycle Info */
#row-top {
    height: auto;
    layout: horizontal;
}

#control-panel {
    width: 50%;
    height: auto;
    border: solid $primary;
    padding: 1;
}

#control-panel-body {
    height: auto;
}

#control-panel NavigationItem {
    margin: 0 0 1 0;
}

#cycle-info {
    width: 50%;
    height: auto;
    border: solid $primary;
    padding: 1;
}

/* Middle row: Tasks + Gates + Artifacts */
#row-middle {
    height: 1fr;
    layout: horizontal;
}

#task-queue {
    width: 100%;
    height: auto;
    border: none;
    padding: 0;
}

#gate-status {
    width: 100%;
    height: auto;
    border: none;
    padding: 0;
}

#artifact-browser {
    width: 100%;
    height: auto;
    border: none;
    padding: 0;
}

#task-queue .panel-title,
#gate-status .panel-title,
#artifact-browser .panel-title {
    color: cyan;
    text-style: bold;
    margin: 1 0;
}

/* Output viewer */
#output-viewer {
    height: 15;
    border: solid $accent;
    padding: 1;
}

#output-tabs {
    height: 1;
    layout: horizontal;
}

#diff-panel, #findings-panel, #logs-panel, #config-panel {
    height: 1fr;
    overflow-y: auto;
    scrollbar-size: 1 1;
}

/* Status bar */
#status-bar {
    height: 1;
    background: $boost;
    color: $text;
    padding: 0 1;
}

/* Navigation focus states - HIGHLY VISIBLE */
.focused {
    border: heavy yellow !important;
    background: blue !important;
    color: white !important;
    text-style: bold reverse !important;
}

.focused:hover {
    background: magenta !important;
}

/* Button styles */
Button {
    width: auto;
    height: auto;
    margin: 0 1;
    border: solid white;
    background: $surface;
    color: $text;
}

Button.focused {
    border: heavy yellow !important;
    background: blue !important;
    color: white !important;
    text-style: bold reverse !important;
}

NavigationItem {
    width: 100%;
    height: 3;
    min-height: 3;
    border: solid $primary;
    background: $surface;
    text-align: left;
    content-align: left middle;
    padding: 0 2;
    margin: 0;
}

NavigationItem.focused {
    border: heavy yellow !important;
    background: blue !important;
    color: white !important;
    text-style: bold reverse !important;
}

#menu-section {
    height: 1fr;
    overflow-y: auto;
    border: heavy cyan;
    padding: 1;
}

#menu-header {
    height: auto;
    text-align: center;
    color: cyan;
    text-style: bold;
}

/* Task items */
.task-item {
    width: 100%;
    height: auto;
    margin: 0 0 1 0;
}

.task-running {
    color: $success;
    text-style: bold;
}

.task-paused {
    color: $warning;
}

.task-pending {
    color: $text-muted;
}

.task-complete {
    color: $text-disabled;
}

/* Gate items */
.gate-item {
    width: 100%;
    height: auto;
    margin: 0 0 1 0;
}

.gate-passed {
    color: $success;
}

.gate-failed {
    color: $error;
}

.gate-running {
    color: $warning;
}

.gate-pending {
    color: $text-muted;
}

/* Artifact items */
.artifact-item {
    width: 100%;
    height: auto;
    margin: 0;
    padding: 0 1;
}

.artifact-folder {
    text-style: bold;
    color: $accent;
}

.artifact-file {
    color: $text;
}

/* Tab buttons */
.tab-button {
    width: auto;
    height: 1;
    border: none;
    background: transparent;
    padding: 0 2;
}

.tab-button.focused {
    background: $boost;
    text-style: bold underline;
}

.tab-active {
    background: $primary;
    text-style: bold;
}

/* Config editor */
.config-line {
    width: 100%;
    height: auto;
    padding: 0 1;
}

.config-line.focused {
    background: $boost;
    text-style: bold;
}

.config-line-editing {
    background: $warning;
    text-style: bold;
}

/* Status indicators */
.status-running {
    color: $success;
    text-style: bold;
}

.status-paused {
    color: $warning;
    text-style: bold;
}

.status-stopped {
    color: $error;
    text-style: bold;
}

.status-idle {
    color: $text-muted;
}

/* Help text */
.help-text {
    color: $text-muted;
    text-style: italic;
}

/* Action hint */
.action-hint {
    color: $accent;
    text-style: bold;
}

/* Scrollbars - using Textual scrollbar styling */
VerticalScroll {
    height: 1fr;
    scrollbar-size: 1 1;
}

Vertical > ScrollableContainer {
    scrollbar-size: 1 1;
}

Horizontal > ScrollableContainer {
    scrollbar-size: 1 1;
}

#tasks-scroll, #gates-scroll, #artifact-scroll {
    height: 1fr;
}

#config-lines {
    height: 1fr;
    overflow-y: auto;
}

/* Log viewer */
Log {
    height: 100%;
    border: none;
}

/* Syntax highlighting for diffs */
.diff-add {
    color: $success;
}

.diff-remove {
    color: $error;
}

.diff-context {
    color: $text-muted;
}

/* Panel titles */
.panel-title {
    text-style: bold;
    color: $accent;
    text-align: center;
    width: 100%;
}
